<!DOCTYPE html>
<html>
	<head>
		<link rel="shortcut icon" type="image/x-icon" href="../css/images/tooth.png" />
        <meta charset="utf-8" />
        <title> Practice Registration </title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="../css/style.css">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
		<!-- hashing library used below -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/core.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/md5.js"></script>
		<script type="text/javascript" src="../js/regexChecks.js"></script>
		<script type="text/javascript" src="../js/signup.js"></script>
    </head>
  <body>
  		<nav class="navbar navbar-expand-lg  navbar-dark">
		  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
		    <span class="navbar-toggler-icon"></span>
		  </button>
		  <div class="collapse navbar-collapse" id="collapsibleNavbar">
		    <ul class="navbar-nav">
		      <li class="nav-item">
		        <a class="nav-link" href="preview.html">Home</a>
		      </li>
		      <li class="nav-item">
		        <a class="nav-link" href="signup.html">Register</a>
		      </li>
		      <li class="nav-item">
		        <a class="nav-link" href="login.html">Login</a>
		      </li>
		      <li class="nav-item">
		        <a class="nav-link active" href="practiceRegister.html">Register Practice</a>
		      </li>
		    </ul>
		  </div>
		</nav>
    <!-- <form method="POST" action="/login" enctype="multipart/form-data"> -->

	    <div id="miBody">
		    <div id="header">
		      <p id="headerTitle">PRACTICE REGISTRATION</p>
		    </div>
		</div>
		<div class="section">
			<br><br><br><br>

			<div id="containerLogin">
				<img src="../css/images/tooth.png" alt="tooth" style="position: relative; margin-left: auto; margin-right: auto; width:  300px;">
				<form  style="border-top-right-radius:10px; border-top-left-radius: 10px; padding: 20px; margin-left: auto; margin-right: auto; position: relative; text-align: center;">
				  <br>
				  	<div id="errorResponse" style="color: red; font-style: italic;"></div><br>
						<label for="practice" style="color: white;">Practice</label><br>
				    <input class="form-control" name="practice" placeholder="Enter Practice Name" id="practice" onchange="checkRegFields();"/><br>
						<label for="securityCode" style="color: white;">Security Code</label><br>
	                <input class="form-control"  name="securityCode" type="securityCode" placeholder="Enter security code" id="securityCode" onchange="checkRegFields();"/><br>
	                <label for="headReceptionist" style="color: white;">Head Receptionist Email</label>
	                <p id="errorForEmail" style="color: red; display: none;"> Invlaid email!</p>
				    <input class="form-control"  name="headReceptionist" type="email" placeholder="Enter Head receptionist Email" id="headReceptionist" onchange="checkRegFields(); checkEmail();"/><br>
				    <button class="btn btn-primary" type="button" id="submitPatientInfo" style="display: none; position: relative; margin: 0px auto; text-align: center;" onclick="registerPractice()">Register</button> 
				</form>
				<button class="btn btn-secondary" id="noSubmitButton" style="display: block; transform: translateY(-20px);" onclick="registerPractice()">Register</button><br>
			</div>
		</div>

		<script>
			function checkRegFields() {
			    var practice = document.getElementById("practice").value;
			    var securityCode = document.getElementById("securityCode").value;
			    var email = document.getElementById("headReceptionist").value;

			    var patientInfo = document.getElementById("submitPatientInfo");
			    var noSubmit = document.getElementById("noSubmitButton");

			    var trueSubmit = true;

			    if (practice == "") {
			        trueSubmit = false;
			    }

			    if (securityCode == "") {
			        trueSubmit = false;
			    }

			    if (checkEmailReg(email) == false) {
			        trueSubmit = false;
			    }

			    if (trueSubmit == true) {
			        patientInfo.style.display = "block";
			        noSubmit.style.display = "none";
			    } else {
			        patientInfo.style.display = "none";
			        noSubmit.style.display = "block";
			    }
			} 

			function checkEmail() {
			    var email = document.getElementById("headReceptionist").value;

			    if (checkEmailReg(email) == false) {
			        document.getElementById("errorForEmail").style.display = "block";
			    } else {
			        document.getElementById("errorForEmail").style.display = "none";
			    }
			}
		</script>

  </body>
</html>