<!DOCTYPE html>
<html>
<head>
	<title>Consultation</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="../css/style.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="../js/apiCalls.js"></script>
	<script type="text/javascript" src="../js/VideoCapture.js"></script>
	<script type="text/javascript" src="../js/Consultation.js"></script>
</head>
	<body onload="init()">

		<div class="body">

			<nav class="navbar navbar-expand-md  navbar-dark">
				<a class="navbar-brand" href="doctorSchedule.html">
					<img src="../css/images/tooth.png" alt="Profile Picture" width="30px" height="30px">
				</a>
				<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
					<span class="navbar-toggler-icon"></span>
				</button>


				<div class="collapse navbar-collapse" id="collapsibleNavbar">
					<ul class="navbar-nav">
						<li id="otherLi" class="nav-item">
				            <a class="nav-link" href="doctorSchedule.html">Schedule<img src="../css/images/home-run.png" width="20px" style="margin-left: 5px;"></img></a>
				          </li>
						<li id="otherLi" class="nav-item">
							<a class="nav-link active" href="Consultation.html"><u>Consultation</u><img src="../css/images/booking.png" width="20px" style="margin-left: 5px;"></img></a>
						</li>
						<li id="logout" class="nav-item" id="logout">
				            <a id="logoutA"class="nav-link" onclick="logout()" href="preview.html">Logout<img src="../css/images/logout.png" width="20px" style="margin-left: 5px;"></img></a>
				          </li>
					</ul>
				</div>

			</nav>

			<!--sideBar-->

			<div id="sideBody" style="background-color: white; height: 100%; position: fixed;">
				<img src="../css/images/arrow.png" class="arrowSideBody" id="arrowSideBody" onclick="rotateArrowConsultation('arrowSideBody')" style="top: 60px;">
    			<label id="sideBarLabel" for="arrowSideBody" style="transform: translate(300px, 73px); display: none; position: relative;" onclick="rotateArrowConsultation('arrowSideBody')">Profile Info</label>

			    <div id="sideBar">

			      <div id="containInfo">
			        <div class="profile">
						<img id="profilePic" src="../css/images/profile.png" alt="Profile Picture" width="200px" height="200px">
					  </div>
					  <br>
					  <button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#myModal">Change Profile Picture</button>
			        <br>
			        <p id="containInfo">Welcome back <i onload="getGender();">Doctor: </i> <b id="doctorName"> </b></p>
			        <hr>
			        <p id="containInfo" style="color: lightgreen;"> You are now logged in </p>
			        <!-- <p id="containInfo"> You are now logged in </p> -->
			        <!--<p id="containInfo">Employee ID: <b onload="getID();">xxxxxxxxxx </b></p>-->
			        <br><br><br>
			      </div>
			    </div>
			  </div>

				<div id="miBody">
					<div id="header">
						<p id="headerTitle">CONSULTATION</p>
					</div>
				</div>
				<!-- Modal -->
				<div id="myModal" class="modal fade" role="dialog">
					<div class="modal-dialog">

					<!-- Modal content-->
					<div class="modal-content">
						<div class="modal-header">
						<h4 class="modal-title">Choose Profile Avatar</h4>
						<button type="button" id="quiteButton" class="close" data-dismiss="modal">&times;</button>
						
						</div>
						<div class="modal-body">
						<a id="avatar" onclick="selectDoc1();"><img id="avatar1" src="../css/images/Avatars/doc_a_male.png" alt="Profile Picture" width="200px" height="200px"></a>
						<a id="avatar" onclick="selectDoc5();"><img id="avatar5" src="../css/images/Avatars/doc_a_female.png" alt="Profile Picture" width="200px" height="200px"></a>
						<a id="avatar" onclick="selectDoc2();"><img id="avatar2" src="../css/images/Avatars/doc_b_male.png" alt="Profile Picture" width="200px" height="200px"></a>
						<a id="avatar" onclick="selectDoc6();"><img id="avatar6" src="../css/images/Avatars/doc_b_female.png" alt="Profile Picture" width="200px" height="200px"></a>
						<a id="avatar" onclick="selectDoc3();"><img id="avatar3" src="../css/images/Avatars/doc_i_male.png" alt="Profile Picture" width="200px" height="200px"></a>
						<a id="avatar" onclick="selectDoc7();"><img id="avatar7" src="../css/images/Avatars/doc_i_female.png" alt="Profile Picture" width="200px" height="200px"></a>
						<a id="avatar" onclick="selectDoc4();"><img id="avatar4" src="../css/images/Avatars/doc_w_male.png" alt="Profile Picture" width="200px" height="200px"></a>
						<a id="avatar" onclick="selectDoc8();"><img id="avatar8" src="../css/images/Avatars/doc_w_female.png" alt="Profile Picture" width="200px" height="200px"></a>
						</div>
						<div class="modal-footer">
						<button type="button" onclick="confirmPicture();" class="btn btn-success" data-dismiss="modal">Confirm</button>
						<button type="button" id="closeButton" class="btn btn-default" data-dismiss="modal">Close</button>
						</div>
					</div>

					</div>
				</div>


				<!-- The Status Modal -->
		        <div id="renderModal" class="modal">
		          <!-- Modal content -->
		          <div class="modal-content">
		              <div class="modal-header">
		                <h4 id="renderModalHeader" class="modal-title">Generating Teeth Model</h4>
		                <img id="loadingGif" src="../css/images/ZZ5H.gif" width="50px" height="50px">
		                <!--<button type="button" id="quiteButton" onclick="closeModal();" class="close" data-dismiss="modal">&times;</button>-->                
		              </div>
		              <div class="modal-footer">
		                <button type="button" id="closeButtonRender" onclick="shrinkModal();" class="btn btn-primary" data-dismiss="modal">Shrink</button>
		              </div>
		          </div>
		        </div>
			<!--right bar-->
				<div class="containerRight">
				    <div id="rightSideBody" style="width: 240px;">
				        <div id="containInfoRight" style="position: fixed; top: 30px">
				        	<br>
				          		<!--TIME: <hr> <p id="time2" style="color:black; font-weight: bold;"></p>  
				          		NOTES ON PATIENT: <hr><p id="patientqq" style="color:black; font-weight: bold;"></p> <br>
							
				          		<br>-->
				          		3D SETTINGS<hr>

								<button class="btn btn-warning" style="margin-right: 10px; margin-bottom: 10px; margin-top: 10px;" onclick=newSTL()>Model</button>
								<button class="btn btn-success" onclick="newVideo()">Media</button>
								<br><br>
								PATIENT RECORDS<hr>
								<a class="btn btn-primary" href="recordPage.html" id = "recordPage">Records</a>
							</div>
						<br>
		  		</div>

				<br>
				<div id="bodyContainer">
					<div class="consultaionBody">
						<div class="infoContainer" id ="infoContainer">
							<div class="consultationInfo" id="consultationInfo">
								<p style="background-color: #003366; border-radius: 5px 5px 0px 0px; padding: 10px 15px 10px 10px; font-weight: bold;">
									Consultation info
									<img src="../css/images/arrow.png" class="arrow" id="arrowConInfo" onclick="rotateArrow('arrowConInfo', 'consultationInfo')">
								</p>

								<div id="consultationInner">
									<p id="conInfoTime" style="color: black;">Time Remaining: <br><span id="remainingTime" style="font-weight: bold;"></span> </p>
									<p id="conInfoStart" style="color: black; display: block;">Start of consultation: <br><span style="color:black;" id="startTime">17:56</span> </p>
									<p id="conInfoEnd" style="color: black; display: block;">End of consultation: <br><span style="color:black;" id="endTime">18:13</span> </p>
								</div>
							</div>

							<div class="pateientsInfo" id="pateientsInfo">
								<p style="background-color: #003366; border-radius: 5px 5px 0px 0px; padding: 10px 15px 10px 10px; font-weight: bold;">
									Patient info
									<img src="../css/images/arrow.png" class="arrow" id="arrowPatInfo" onclick="rotateArrow('arrowPatInfo', 'pateientsInfo')">
								</p>

								<div class="patientInfoInner" id="patientInfoInner">
									<p id="patientDisplayMessage" style="color: black; display: none; text-align: center; margin: auto; color: gray;">All the patients relavent information</p>
									<p id="patientName" style="color: black; display: block;"> Name: <br> Test Name </p>
									<p id="patientSurname" style="color: black; display: block;">Surname: <br> Test Surname</p>
									<p id="patientID" style="color: black; display: block;">ID: <br> 123456789 </p>
									<p id="patientGender" style="color: black; display: block;">Gender: <br> Female </p>
									<p id="patientEmail" style="color: black; display: inline-block;">Email: <br> TNameTSurname@gmail.com</p>
									<p id="patientContactNo" style="color: black; display: block; ">Contact Number: <br> 082 678 7289</p>
								</div>
							</div>
						</div>

						<div class="doctorsNotes" id = "docnotes">
							<p style="font-weight: bold;">Doctors Notes:</p>
							<textarea id="doctorsNotes" style="width: 100%; height: 100%; border-width: 2px; border-color: #003366; border-radius: 5px; max-height: 280px;"></textarea>
							<button class="btn btn-primary" id="saveDoctorNote" type="button" style="margin-top: 10px;" onclick="saveConsultation()">Save & Exit Consultation</button>
						</div>

						<br><br>

						<div id="VideoRecorder">
							<h2 id="videoRecoderHeader">Video Recorder</h2><br>
						    <div id="VideoRecorderCenter">
						        <label for="file-upload" class="btn btn-primary" id="UploadVideo">Select Video</label>
								<input id="file-upload" type="file" accept='video/mp4'/>

						        <input class='btn btn-primary' type='submit' value='Upload Video' onclick='uploadVideo(document.getElementById("file-upload").files[0])'>
						        
						        <br><br>
						        
						        <div id='uploadedVideoElement'></div>
						        <div id='submitVideoUploadElement'></div>
						        
						        <input class='btn btn-primary' type='submit' name='takeVideoStream' value='Stream Video' onclick='takeVideoStream()'/>
						        
						        <div id='videoStreamElement' style="display: none;">
						        	<!--<br>
						        	<div id="recordButtonsContainer">
						        		<button class="btn btn-success" id="startStream">Start recording</button>
										<button class="btn btn-danger" id="stopStream">Stop recording</button>
									</div>
									<br><br><video></video>
									<br><br><video id="capturedVideoStream" controls></video>-->
						        </div>

						        <div id='submitVideoStreamElement'></div>
								
						        <div id="testDraw"></div>

								<div id = 'videoRec' class='renderCenter'></div>
							</div>
						</div>
						<div id="STLUploader">
							<h2 id="videoRecoderHeaderSTL">STL File Uploader</h2><br>
						    <div id="VideoRecorderCenter">
						        <label for="file-upload" class="btn btn-primary" id="UploadVideo">Select STL File</label>
								<input id="file-upload" type="file"/>

						        <input class='btn btn-primary' type='submit' value='Upload STL' onclick='uploadSTL(document.getElementById("file-upload").files[0])'>

							</div>
						</div>
						<br><br><br>
					</div>
				</div>
		</div>
	</body>
</html>
