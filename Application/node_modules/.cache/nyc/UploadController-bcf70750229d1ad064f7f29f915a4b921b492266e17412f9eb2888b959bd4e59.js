function cov_2h99awej7m(){var path="/home/marcus/UNI/Year 3/COS 301/Capstone/Feature-Improvments/3D-model-Binary-Vision/Application/api/controller/UploadController.js";var hash="ecc382e19e008b9435ab71c0bd2a7bbe98209b40";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/marcus/UNI/Year 3/COS 301/Capstone/Feature-Improvments/3D-model-Binary-Vision/Application/api/controller/UploadController.js",statementMap:{"0":{start:{line:4,column:19},end:{line:4,column:40}},"1":{start:{line:5,column:24},end:{line:5,column:50}},"2":{start:{line:6,column:17},end:{line:6,column:36}},"3":{start:{line:7,column:15},end:{line:7,column:32}},"4":{start:{line:8,column:11},end:{line:8,column:24}},"5":{start:{line:9,column:13},end:{line:9,column:28}},"6":{start:{line:10,column:18},end:{line:10,column:42}},"7":{start:{line:11,column:20},end:{line:11,column:38}},"8":{start:{line:14,column:0},end:{line:96,column:1}},"9":{start:{line:21,column:21},end:{line:21,column:52}},"10":{start:{line:23,column:8},end:{line:94,column:11}},"11":{start:{line:25,column:12},end:{line:29,column:13}},"12":{start:{line:27,column:16},end:{line:27,column:33}},"13":{start:{line:28,column:16},end:{line:28,column:23}},"14":{start:{line:30,column:27},end:{line:30,column:32}},"15":{start:{line:32,column:12},end:{line:93,column:13}},"16":{start:{line:35,column:16},end:{line:35,column:50}},"17":{start:{line:36,column:16},end:{line:36,column:23}},"18":{start:{line:44,column:24},end:{line:44,column:34}},"19":{start:{line:45,column:24},end:{line:45,column:81}},"20":{start:{line:46,column:16},end:{line:46,column:34}},"21":{start:{line:47,column:16},end:{line:50,column:17}},"22":{start:{line:49,column:20},end:{line:49,column:76}},"23":{start:{line:54,column:24},end:{line:54,column:38}},"24":{start:{line:55,column:27},end:{line:55,column:74}},"25":{start:{line:58,column:16},end:{line:89,column:18}},"26":{start:{line:60,column:20},end:{line:88,column:21}},"27":{start:{line:67,column:24},end:{line:67,column:63}},"28":{start:{line:86,column:24},end:{line:86,column:51}},"29":{start:{line:87,column:24},end:{line:87,column:44}},"30":{start:{line:91,column:16},end:{line:91,column:32}},"31":{start:{line:92,column:16},end:{line:92,column:23}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:19,column:18},end:{line:19,column:19}},loc:{start:{line:20,column:4},end:{line:95,column:5}},line:20},"1":{name:"(anonymous_1)",decl:{start:{line:23,column:24},end:{line:23,column:25}},loc:{start:{line:24,column:8},end:{line:94,column:9}},line:24},"2":{name:"(anonymous_2)",decl:{start:{line:58,column:30},end:{line:58,column:31}},loc:{start:{line:59,column:16},end:{line:89,column:17}},line:59}},branchMap:{"0":{loc:{start:{line:25,column:12},end:{line:29,column:13}},type:"if",locations:[{start:{line:25,column:12},end:{line:29,column:13}},{start:{line:25,column:12},end:{line:29,column:13}}],line:25},"1":{loc:{start:{line:32,column:12},end:{line:93,column:13}},type:"if",locations:[{start:{line:32,column:12},end:{line:93,column:13}},{start:{line:32,column:12},end:{line:93,column:13}}],line:32},"2":{loc:{start:{line:60,column:20},end:{line:88,column:21}},type:"if",locations:[{start:{line:60,column:20},end:{line:88,column:21}},{start:{line:60,column:20},end:{line:88,column:21}}],line:60}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0},f:{"0":0,"1":0,"2":0},b:{"0":[0,0],"1":[0,0],"2":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ecc382e19e008b9435ab71c0bd2a7bbe98209b40"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2h99awej7m=function(){return actualCoverage;};}return actualCoverage;}cov_2h99awej7m();//file creates by: Jacobus Janse van Rensburg
//controller for all the uploads and retrievals as well as the integrating of the c++ program 
const formidable=(cov_2h99awej7m().s[0]++,require("formidable"));const{createModel}=(cov_2h99awej7m().s[1]++,require('mongoose-gridfs'));const mongoose=(cov_2h99awej7m().s[2]++,require("mongoose"));const multer=(cov_2h99awej7m().s[3]++,require('multer'));const fs=(cov_2h99awej7m().s[4]++,require('fs'));const path=(cov_2h99awej7m().s[5]++,require('path'));const{spawn}=(cov_2h99awej7m().s[6]++,require('child_process'));const{Console}=(cov_2h99awej7m().s[7]++,require("console"));cov_2h99awej7m().s[8]++;module.exports={//================================================================================================
// Function developed by: Jacobus Janse van Rensburg
// Function used to upload multiple images , store them in a temp directory/file and start the c++ program
uploadImages:function(req,res){cov_2h99awej7m().f[0]++;const form=(cov_2h99awej7m().s[9]++,formidable({multiples:true}));cov_2h99awej7m().s[10]++;form.parse(req,(err,fields,files)=>{cov_2h99awej7m().f[1]++;cov_2h99awej7m().s[11]++;if(err){cov_2h99awej7m().b[0][0]++;cov_2h99awej7m().s[12]++;console.log(err);cov_2h99awej7m().s[13]++;return;}else{cov_2h99awej7m().b[0][1]++;}const images=(cov_2h99awej7m().s[14]++,files);cov_2h99awej7m().s[15]++;if(!images){cov_2h99awej7m().b[1][0]++;cov_2h99awej7m().s[16]++;//if no images was sent we handle this by returning a error status 404
res.status(404).send("no images");cov_2h99awej7m().s[17]++;return;}else{cov_2h99awej7m().b[1][1]++;//get image data from disk using path (use fs package)
//use the file paths to send the images to the c++ program to find the images
//temp store file 
var f=(cov_2h99awej7m().s[18]++,Date.now());var dir=(cov_2h99awej7m().s[19]++,"sfmAlgorithm_linux/Executable/imageData/"+req.user+"-"+f);cov_2h99awej7m().s[20]++;fs.mkdirSync(dir);cov_2h99awej7m().s[21]++;for(let image of images["images[]"]){cov_2h99awej7m().s[22]++;fs.copyFileSync(image.path,path.join(dir,image.name));}//connect c++ program here and send file name when done c++ deletes file
//using spawn as a chid-process 
var d=(cov_2h99awej7m().s[23]++,req.user+"-"+f);const ls=(cov_2h99awej7m().s[24]++,spawn('sfmAlgorithm_linux/Executable/main',[d]));cov_2h99awej7m().s[25]++;ls.on('exit',code=>{cov_2h99awej7m().f[2]++;cov_2h99awej7m().s[26]++;if(code==0){cov_2h99awej7m().b[2][0]++;cov_2h99awej7m().s[27]++;//every thing is fine 
//check that stl exists and store it in the db
//write to the db 
//read from disk with directory
console.log("Check if file is there ");// var stlFile = fs.createReadStream(dir+"/stlFile.stl");
// const options = ({ filename: req.body.consID , contentType: 'model/stl' });
// var attachment = createModel();
// attachment.write(options , stlFile , function(err, saved){
//     if( err)
//     {
//         res.status(500).send("error saving stl file: "+ err);
//     }
//     else{
//         res.status(200);
//     }
// });
}else{cov_2h99awej7m().b[2][1]++;cov_2h99awej7m().s[28]++;console.log("Code: "+code);cov_2h99awej7m().s[29]++;res.sendStatus(500);}});cov_2h99awej7m().s[30]++;res.status(200);cov_2h99awej7m().s[31]++;return;}});}};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlVwbG9hZENvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsiZm9ybWlkYWJsZSIsInJlcXVpcmUiLCJjcmVhdGVNb2RlbCIsIm1vbmdvb3NlIiwibXVsdGVyIiwiZnMiLCJwYXRoIiwic3Bhd24iLCJDb25zb2xlIiwibW9kdWxlIiwiZXhwb3J0cyIsInVwbG9hZEltYWdlcyIsInJlcSIsInJlcyIsImZvcm0iLCJtdWx0aXBsZXMiLCJwYXJzZSIsImVyciIsImZpZWxkcyIsImZpbGVzIiwiY29uc29sZSIsImxvZyIsImltYWdlcyIsInN0YXR1cyIsInNlbmQiLCJmIiwiRGF0ZSIsIm5vdyIsImRpciIsInVzZXIiLCJta2RpclN5bmMiLCJpbWFnZSIsImNvcHlGaWxlU3luYyIsImpvaW4iLCJuYW1lIiwiZCIsImxzIiwib24iLCJjb2RlIiwic2VuZFN0YXR1cyJdLCJtYXBwaW5ncyI6Iit2SEFlWTsyRkFmWjtBQUNBO0FBRUEsS0FBTUEsQ0FBQUEsVUFBVSwwQkFBR0MsT0FBTyxDQUFDLFlBQUQsQ0FBVixDQUFoQixDQUNBLEtBQU0sQ0FBRUMsV0FBRiwyQkFBa0JELE9BQU8sQ0FBQyxpQkFBRCxDQUF6QixDQUFOLENBQ0EsS0FBTUUsQ0FBQUEsUUFBUSwwQkFBR0YsT0FBTyxDQUFDLFVBQUQsQ0FBVixDQUFkLENBQ0EsS0FBTUcsQ0FBQUEsTUFBTSwwQkFBR0gsT0FBTyxDQUFDLFFBQUQsQ0FBVixDQUFaLENBQ0EsS0FBTUksQ0FBQUEsRUFBRSwwQkFBR0osT0FBTyxDQUFDLElBQUQsQ0FBVixDQUFSLENBQ0EsS0FBTUssQ0FBQUEsSUFBSSwwQkFBR0wsT0FBTyxDQUFDLE1BQUQsQ0FBVixDQUFWLENBQ0EsS0FBTSxDQUFFTSxLQUFGLDJCQUFZTixPQUFPLENBQUMsZUFBRCxDQUFuQixDQUFOLENBQ0EsS0FBTSxDQUFFTyxPQUFGLDJCQUFjUCxPQUFPLENBQUMsU0FBRCxDQUFyQixDQUFOLEMsd0JBR0FRLE1BQU0sQ0FBQ0MsT0FBUCxDQUFpQixDQUVqQjtBQUNBO0FBQ0E7QUFDSUMsWUFBWSxDQUFFLFNBQVNDLEdBQVQsQ0FBY0MsR0FBZCxDQUNkLHlCQUNJLEtBQU1DLENBQUFBLElBQUksMEJBQUdkLFVBQVUsQ0FBQyxDQUFFZSxTQUFTLENBQUUsSUFBYixDQUFELENBQWIsQ0FBVixDQURKLHlCQUdJRCxJQUFJLENBQUNFLEtBQUwsQ0FBV0osR0FBWCxDQUFnQixDQUFDSyxHQUFELENBQU1DLE1BQU4sQ0FBY0MsS0FBZCxHQUNoQixrREFDSSxHQUFHRixHQUFILENBQ0EscURBQ0lHLE9BQU8sQ0FBQ0MsR0FBUixDQUFZSixHQUFaLEVBREoseUJBRUksT0FDSCxDQUpELGlDQUtBLEtBQU1LLENBQUFBLE1BQU0sMkJBQUdILEtBQUgsQ0FBWixDQU5KLHlCQVFJLEdBQUksQ0FBQ0csTUFBTCxDQUNBLHFEQUNJO0FBQ0FULEdBQUcsQ0FBQ1UsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCLFdBQXJCLEVBRkoseUJBR0ksT0FDSCxDQUxELElBT0EsNEJBQ0k7QUFDQTtBQUVBO0FBQ0EsR0FBSUMsQ0FBQUEsQ0FBQywyQkFBR0MsSUFBSSxDQUFDQyxHQUFMLEVBQUgsQ0FBTCxDQUNBLEdBQUlDLENBQUFBLEdBQUcsMkJBQUMsMkNBQTJDaEIsR0FBRyxDQUFDaUIsSUFBL0MsQ0FBb0QsR0FBcEQsQ0FBd0RKLENBQXpELENBQVAsQ0FOSix5QkFPSXBCLEVBQUUsQ0FBQ3lCLFNBQUgsQ0FBYUYsR0FBYixFQVBKLHlCQVFJLElBQUssR0FBSUcsQ0FBQUEsS0FBVCxHQUFrQlQsQ0FBQUEsTUFBTSxDQUFDLFVBQUQsQ0FBeEIsQ0FDQSwwQkFDSWpCLEVBQUUsQ0FBQzJCLFlBQUgsQ0FBZ0JELEtBQUssQ0FBQ3pCLElBQXRCLENBQTRCQSxJQUFJLENBQUMyQixJQUFMLENBQVVMLEdBQVYsQ0FBZUcsS0FBSyxDQUFDRyxJQUFyQixDQUE1QixFQUNILENBRUQ7QUFDQTtBQUNBLEdBQUlDLENBQUFBLENBQUMsMkJBQUd2QixHQUFHLENBQUNpQixJQUFKLENBQVMsR0FBVCxDQUFhSixDQUFoQixDQUFMLENBQ0EsS0FBTVcsQ0FBQUEsRUFBRSwyQkFBRzdCLEtBQUssQ0FBQyxvQ0FBRCxDQUFzQyxDQUFDNEIsQ0FBRCxDQUF0QyxDQUFSLENBQVIsQ0FoQkoseUJBbUJJQyxFQUFFLENBQUNDLEVBQUgsQ0FBTSxNQUFOLENBQWNDLElBQUksRUFDbEIsa0RBQ0ksR0FBSUEsSUFBSSxFQUFHLENBQVgsQ0FDQSxxREFDSTtBQUVBO0FBQ0E7QUFDQTtBQUNBbEIsT0FBTyxDQUFDQyxHQUFSLENBQVkseUJBQVosRUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFSCxDQXZCRCxJQXlCQSxxREFDSUQsT0FBTyxDQUFDQyxHQUFSLENBQVksU0FBU2lCLElBQXJCLEVBREoseUJBRUl6QixHQUFHLENBQUMwQixVQUFKLENBQWUsR0FBZixFQUNILENBQ0osQ0EvQkQsRUFuQkoseUJBb0RJMUIsR0FBRyxDQUFDVSxNQUFKLENBQVcsR0FBWCxFQXBESix5QkFxREksT0FDSCxDQUNKLENBdkVELEVBd0VILENBakZZLENBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiLy9maWxlIGNyZWF0ZXMgYnk6IEphY29idXMgSmFuc2UgdmFuIFJlbnNidXJnXG4vL2NvbnRyb2xsZXIgZm9yIGFsbCB0aGUgdXBsb2FkcyBhbmQgcmV0cmlldmFscyBhcyB3ZWxsIGFzIHRoZSBpbnRlZ3JhdGluZyBvZiB0aGUgYysrIHByb2dyYW0gXG5cbmNvbnN0IGZvcm1pZGFibGUgPSByZXF1aXJlKFwiZm9ybWlkYWJsZVwiKTtcbmNvbnN0IHsgY3JlYXRlTW9kZWwgfSA9IHJlcXVpcmUoJ21vbmdvb3NlLWdyaWRmcycpO1xuY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKFwibW9uZ29vc2VcIik7XG5jb25zdCBtdWx0ZXIgPSByZXF1aXJlKCdtdWx0ZXInKTtcbmNvbnN0IGZzID0gcmVxdWlyZSgnZnMnKTtcbmNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5jb25zdCB7IHNwYXduIH0gPSByZXF1aXJlKCdjaGlsZF9wcm9jZXNzJyk7XG5jb25zdCB7IENvbnNvbGUgfSA9IHJlcXVpcmUoXCJjb25zb2xlXCIpO1xuXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIFxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIEZ1bmN0aW9uIGRldmVsb3BlZCBieTogSmFjb2J1cyBKYW5zZSB2YW4gUmVuc2J1cmdcbi8vIEZ1bmN0aW9uIHVzZWQgdG8gdXBsb2FkIG11bHRpcGxlIGltYWdlcyAsIHN0b3JlIHRoZW0gaW4gYSB0ZW1wIGRpcmVjdG9yeS9maWxlIGFuZCBzdGFydCB0aGUgYysrIHByb2dyYW1cbiAgICB1cGxvYWRJbWFnZXM6IGZ1bmN0aW9uKHJlcSwgcmVzKVxuICAgIHtcbiAgICAgICAgY29uc3QgZm9ybSA9IGZvcm1pZGFibGUoeyBtdWx0aXBsZXM6IHRydWUgfSk7XG5cbiAgICAgICAgZm9ybS5wYXJzZShyZXEsIChlcnIsIGZpZWxkcywgZmlsZXMpID0+IFxuICAgICAgICB7XG4gICAgICAgICAgICBpZihlcnIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBpbWFnZXMgPSBmaWxlcztcblxuICAgICAgICAgICAgaWYgKCFpbWFnZXMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy9pZiBubyBpbWFnZXMgd2FzIHNlbnQgd2UgaGFuZGxlIHRoaXMgYnkgcmV0dXJuaW5nIGEgZXJyb3Igc3RhdHVzIDQwNFxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKFwibm8gaW1hZ2VzXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy9nZXQgaW1hZ2UgZGF0YSBmcm9tIGRpc2sgdXNpbmcgcGF0aCAodXNlIGZzIHBhY2thZ2UpXG4gICAgICAgICAgICAgICAgLy91c2UgdGhlIGZpbGUgcGF0aHMgdG8gc2VuZCB0aGUgaW1hZ2VzIHRvIHRoZSBjKysgcHJvZ3JhbSB0byBmaW5kIHRoZSBpbWFnZXNcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvL3RlbXAgc3RvcmUgZmlsZSBcbiAgICAgICAgICAgICAgICB2YXIgZiA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgdmFyIGRpcj1cInNmbUFsZ29yaXRobV9saW51eC9FeGVjdXRhYmxlL2ltYWdlRGF0YS9cIityZXEudXNlcitcIi1cIitmO1xuICAgICAgICAgICAgICAgIGZzLm1rZGlyU3luYyhkaXIpO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGltYWdlIG9mIGltYWdlc1tcImltYWdlc1tdXCJdICkgXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBmcy5jb3B5RmlsZVN5bmMoaW1hZ2UucGF0aCwgcGF0aC5qb2luKGRpciwgaW1hZ2UubmFtZSkpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vY29ubmVjdCBjKysgcHJvZ3JhbSBoZXJlIGFuZCBzZW5kIGZpbGUgbmFtZSB3aGVuIGRvbmUgYysrIGRlbGV0ZXMgZmlsZVxuICAgICAgICAgICAgICAgIC8vdXNpbmcgc3Bhd24gYXMgYSBjaGlkLXByb2Nlc3MgXG4gICAgICAgICAgICAgICAgdmFyIGQgPSByZXEudXNlcitcIi1cIitmO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxzID0gc3Bhd24oJ3NmbUFsZ29yaXRobV9saW51eC9FeGVjdXRhYmxlL21haW4nLFtkXSk7XG5cblxuICAgICAgICAgICAgICAgIGxzLm9uKCdleGl0JywgY29kZT0+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29kZSA9PTAgKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2V2ZXJ5IHRoaW5nIGlzIGZpbmUgXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY2hlY2sgdGhhdCBzdGwgZXhpc3RzIGFuZCBzdG9yZSBpdCBpbiB0aGUgZGJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vd3JpdGUgdG8gdGhlIGRiIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy9yZWFkIGZyb20gZGlzayB3aXRoIGRpcmVjdG9yeVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJDaGVjayBpZiBmaWxlIGlzIHRoZXJlIFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHZhciBzdGxGaWxlID0gZnMuY3JlYXRlUmVhZFN0cmVhbShkaXIrXCIvc3RsRmlsZS5zdGxcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zdCBvcHRpb25zID0gKHsgZmlsZW5hbWU6IHJlcS5ib2R5LmNvbnNJRCAsIGNvbnRlbnRUeXBlOiAnbW9kZWwvc3RsJyB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdmFyIGF0dGFjaG1lbnQgPSBjcmVhdGVNb2RlbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYXR0YWNobWVudC53cml0ZShvcHRpb25zICwgc3RsRmlsZSAsIGZ1bmN0aW9uKGVyciwgc2F2ZWQpe1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgaWYoIGVycilcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKFwiZXJyb3Igc2F2aW5nIHN0bCBmaWxlOiBcIisgZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgcmVzLnN0YXR1cygyMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJDb2RlOiBcIitjb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5zZW5kU3RhdHVzKDUwMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufSJdfQ==